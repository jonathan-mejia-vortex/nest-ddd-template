#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ğŸ§ª Running pre-push checks..."

# 1. Ejecutar tests unitarios
echo "âš¡ Running unit tests..."
yarn test --passWithNoTests

if [ $? -ne 0 ]; then
	echo "âŒ Unit tests failed. Push aborted."
	exit 1
fi

# 2. Ejecutar tests de integraciÃ³n/e2e (opcional, comentar si no hay DB en CI)
# echo "ğŸ”¬ Running e2e tests..."
# yarn test:e2e

# if [ $? -ne 0 ]; then
# 	echo "âŒ E2E tests failed. Push aborted."
# 	exit 1
# fi

echo "âœ… All pre-push checks passed!"

